{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\nimport iziToast from 'izitoast';\n\nconst formData = { email: '', message: '' };\nconst localStorageKey = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nfunction inputHandler(event) {\n  const inputEl = event.target;\n\n  const name = inputEl.name;\n  const value = inputEl.value;\n\n  formData[name] = value;\n  updateLocalStorage();\n}\n\nfunction submitHandler(event) {\n  event.preventDefault();\n\n  const formDataValues = Object.values(formData);\n\n  if (formDataValues.some(el => el === '')) {\n    console.warn('Fill please all fields');\n    iziToast.warning({\n      title: 'Warning',\n      position: 'topRight',\n      message: 'Fill please all fields',\n    });\n\n    return;\n  }\n  console.log(formData);\n  iziToast.success({\n    title: 'Success',\n    position: 'topRight',\n    message: `email: ${formData.email}, Message: ${formData.message}`,\n  });\n\n  event.currentTarget.reset();\n  formData.email = '';\n  formData.message = '';\n  localStorage.removeItem('feedback-form-state');\n}\n\nfunction updateLocalStorage() {\n  try {\n    localStorage.setItem(localStorageKey, JSON.stringify(formData));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nwindow.addEventListener('load', function (event) {\n  const dataLocalStorage = localStorage.getItem(localStorageKey);\n  if (!dataLocalStorage) return;\n\n  const formDataObject = JSON.parse(dataLocalStorage);\n  if (typeof formDataObject !== 'object') return;\n\n  const formDataFromLSKeys = Object.keys(formDataObject);\n\n  formDataFromLSKeys.forEach(key => {\n    form.elements[key].value = formDataObject[key];\n    formData[key] = formDataObject[key];\n  });\n});\n\nform.addEventListener('input', inputHandler);\nform.addEventListener('submit', submitHandler);\n"],"names":["formData","localStorageKey","form","inputHandler","event","inputEl","name","value","updateLocalStorage","submitHandler","el","iziToast","error","dataLocalStorage","formDataObject","key"],"mappings":"oGAGA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAkB,sBAClBC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,SAASC,EAAaC,EAAO,CAC3B,MAAMC,EAAUD,EAAM,OAEhBE,EAAOD,EAAQ,KACfE,EAAQF,EAAQ,MAEtBL,EAASM,CAAI,EAAIC,EACjBC,GACF,CAEA,SAASC,EAAcL,EAAO,CAK5B,GAJAA,EAAM,eAAc,EAEG,OAAO,OAAOJ,CAAQ,EAE1B,KAAKU,GAAMA,IAAO,EAAE,EAAG,CACxC,QAAQ,KAAK,wBAAwB,EACrCC,EAAS,QAAQ,CACf,MAAO,UACP,SAAU,WACV,QAAS,wBACf,CAAK,EAED,MACD,CACD,QAAQ,IAAIX,CAAQ,EACpBW,EAAS,QAAQ,CACf,MAAO,UACP,SAAU,WACV,QAAS,UAAUX,EAAS,KAAK,cAAcA,EAAS,OAAO,EACnE,CAAG,EAEDI,EAAM,cAAc,QACpBJ,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnB,aAAa,WAAW,qBAAqB,CAC/C,CAEA,SAASQ,GAAqB,CAC5B,GAAI,CACF,aAAa,QAAQP,EAAiB,KAAK,UAAUD,CAAQ,CAAC,CAC/D,OAAQY,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,OAAO,iBAAiB,OAAQ,SAAUR,EAAO,CAC/C,MAAMS,EAAmB,aAAa,QAAQZ,CAAe,EAC7D,GAAI,CAACY,EAAkB,OAEvB,MAAMC,EAAiB,KAAK,MAAMD,CAAgB,EAClD,GAAI,OAAOC,GAAmB,SAAU,OAEb,OAAO,KAAKA,CAAc,EAElC,QAAQC,GAAO,CAChCb,EAAK,SAASa,CAAG,EAAE,MAAQD,EAAeC,CAAG,EAC7Cf,EAASe,CAAG,EAAID,EAAeC,CAAG,CACtC,CAAG,CACH,CAAC,EAEDb,EAAK,iBAAiB,QAASC,CAAY,EAC3CD,EAAK,iBAAiB,SAAUO,CAAa"}